<template name="qualifications">
  {{> popupGradeEntry}}
  <form class="form-inline" id="qualName">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name=name placeholder="Enter name for exam type e.g GCSE" required>
    </div>
    <input type="submit" name="addQual" class="form-control" />
  </form>


  Current Qualification: {{currentQualification}}
  <div class="row">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <td>Name</td>
            <td>Details</td>
          </tr>
        </thead>
        <tbody>
          {{#each qualifications}}
            {{> qualification}}
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name="qualification">
  <tr>
    <td>
      {{_id}}
      <button class="btn btn-default" id="addGrade" data-qual = "{{_id}}">Add Grade</button>

    </td>
    <td>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Grade</th>
            {{#each sortedGrades}}
              {{> grade}}
            {{/each}}
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Points</td>
            {{#each sortedGrades}}
              {{> numberCellInputComponent id=points for="points"}}
            {{/each}}
          </tr>
          <tr>
            <td>Order</td>
            {{#each sortedGrades}}
              {{> order}}
            {{/each}}
          </tr>
        </tbody>
      </table>
    </td>
  </tr>

</template>

<template name="grade">
  <th>{{grade}}</th>
</template>

<template name="point">
  {{> numberCellInputComponent id=points for="points"}}
</template>

<template name="order">
  {{> numberCellInputComponent id=order for="order"}}
</template>

<template name="qualDetails">
  <h3> <small>{{_id}}</small></h3>
  <form class ="form-inline">
    <div class="form-group">
      <label for="grade">Grade</label>
      <input type="text" class="form-control" id="grade" placeholder="Enter a valid grade">
    </div>
    <div class="form-group">
      <label for ="points">Points</label>
      <input type="number" class="form-control" id="points" placeholder="Enter the pointscore value for the grade" />
    </div>
    <div class="form-group">
      <label for="order">Order</label>
      <input type="number" class="form-control" id="order" placeholder="Enter the ranking for the grade, where 1 is the highest grade" />
    </div>
    <input type="submit" name="addGrade" class="form-control" />
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Grade</th>
          <th>Points</th>
          <th>Order</th>
        </tr>
      </thead>
      <tbody>
        {{#each grade}}
          {{> gradeDetails}}
        {{/each}}
      </tbody>
    </table>
  </form>
</template>

<template name="gradeDetails">
  <tr>
    <td>{{grade}}</td>
    <td>{{points}}</td>
    <td>{{order}}</td>
  </tr>
</template>

<template name="popupGradeEntry">
  <div class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h4 class="modal-title">Add grade to {{qualificationName}}</h4>
      </div>
      <div class="modal-body">
        <form id="qualGrade">
          <div class="form-group">
            <label for="grade">Grade</label>
            <input type="text" name="grade" required />
          </div>
          <div class="form-group">
            <label for="points">Points</label>
            <input type="number" name="points" value="0" min=0 required />
          </div>
          <div class="form-group">
            <label for="order">Order</label>
            <input type="number" min="1" value=1 name="order"/>
          </div>
          <input type="submit" id="addGrade" />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
</template>
